import { expect } from "chai";
import initMap from "../initMap.mjs";
describe("Test initMap", function () {
  it("test anonymous and return value", function () {
    var acture = initMap({})("foo", "bar");
    expect(acture).to.equal("bar");
  });
  it("test anonymous with two step", function () {
    var cb = initMap({});
    cb("foo", "bar2");
    expect(cb("foo")).to.equal("bar2");
  });
  it("test with external", function () {
    var fakeMap = {};
    var cb = initMap(fakeMap);
    cb("foo", "bar2");
    expect(fakeMap).to.deep.equal({
      foo: "bar2"
    });
  });
  it("test intiMap return value", function () {
    var fakeMap = {};
    var foo = initMap(fakeMap)("foo", []);
    foo.push("bar");
    expect(foo).to.deep.equal(["bar"]);
    expect(fakeMap).to.deep.equal({
      foo: ["bar"]
    });
  });
});