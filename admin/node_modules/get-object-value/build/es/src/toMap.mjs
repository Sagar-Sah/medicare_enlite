import { KEYS, NEW_OBJ } from "reshow-constant";
import get from "./get.mjs";
import toJS from "./toJS.mjs";

var toMap = function toMap(a, path) {
  var next = get(a, path, NEW_OBJ());
  var nextMap = NEW_OBJ();

  if (next.forEach) {
    next.forEach(function (v, k) {
      return nextMap[k] = toJS(v);
    });
  } else {
    KEYS(next).forEach(function (k) {
      return nextMap[k] = toJS(next[k]);
    });
  }

  return nextMap;
};

export default toMap;