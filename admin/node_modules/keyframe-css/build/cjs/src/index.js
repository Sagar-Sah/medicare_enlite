"use strict";

var _interopRequireDefault = require("reshow-runtime/helpers/interopRequireDefault");
exports.__esModule = true;
exports["default"] = void 0;
var _interopRequireWildcard2 = _interopRequireDefault(require("reshow-runtime/helpers/interopRequireWildcard"));
var _getObjectValue = require("get-object-value");
var _reactAtomicMolecule = require("react-atomic-molecule");
var _callFunc = _interopRequireDefault(require("call-func"));
var _reshowConstant = require("reshow-constant");
var inject = (0, _reshowConstant.NEW_OBJ)();
var c = 0;
var processCss = function processCss(cb) {
  return function (css) {
    css = (0, _getObjectValue.getDefault)(css);
    var cssKeys = (0, _reshowConstant.KEYS)(css);
    if (cssKeys.length) {
      cssKeys.forEach(function (key) {
        css[key].push("keyframe-" + key + "-" + c);
        _reactAtomicMolecule.reactStyle.apply(null, css[key]);
        c++;
      });
    }
    (0, _callFunc["default"])(cb);

    /**
     * cb may have new style,
     * So always inject in last line.
     */
    (0, _reactAtomicMolecule.injectStyle)();
  };
};
var getKeyframeCss = function getKeyframeCss(key, cb) {
  if (inject[key]) {
    return;
  }
  var callback = processCss(cb);
  switch (key) {
    case "breath":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./breath.js"));
      }).then(callback);
      break;
    case "candleInTheWind":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./candleInTheWind.js"));
      }).then(callback);
      break;
    case "fadeIn":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeIn.js"));
      }).then(callback);
      break;
    case "fadeInDown":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeInDown.js"));
      }).then(callback);
      break;
    case "fadeInLeft":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeInLeft.js"));
      }).then(callback);
      break;
    case "fadeInRight":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeInRight.js"));
      }).then(callback);
      break;
    case "fadeInUp":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeInUp.js"));
      }).then(callback);
      break;
    case "fadeInUpBig":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeInUpBig.js"));
      }).then(callback);
      break;
    case "fadeOut":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeOut.js"));
      }).then(callback);
      break;
    case "fadeOutDown":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeOutDown.js"));
      }).then(callback);
      break;
    case "fadeOutLeft":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeOutLeft.js"));
      }).then(callback);
      break;
    case "fadeOutRight":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeOutRight.js"));
      }).then(callback);
      break;
    case "fadeOutUp":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./fadeOutUp.js"));
      }).then(callback);
      break;
    case "flip":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./flip.js"));
      }).then(callback);
      break;
    case "pulsate":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./pulsate.js"));
      }).then(callback);
      break;
    case "spin":
      Promise.resolve().then(function () {
        return (0, _interopRequireWildcard2["default"])(require("./spin.js"));
      }).then(callback);
      break;
    default:
      console.warn("not supported");
      break;
  }
  inject[key] = true;
};
var _default = getKeyframeCss;
exports["default"] = _default;
module.exports = exports.default;