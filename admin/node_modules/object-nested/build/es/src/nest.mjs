import replaceValue from "set-object-value";
import { KEYS } from "reshow-constant";

var nest = function nest(a, delimiter) {
  delimiter = delimiter || ".";
  var tree = {};
  KEYS(a).forEach(function (k) {
    if (-1 === k.indexOf(delimiter)) {
      tree[k] = a[k];
      return;
    }

    var subKeys = k.split(delimiter);
    replaceValue(tree, subKeys, a[k]);
  });
  return tree;
};

export default nest;