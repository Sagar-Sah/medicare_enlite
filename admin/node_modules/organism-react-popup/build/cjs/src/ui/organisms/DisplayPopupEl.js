"use strict";

var _interopRequireWildcard = require("reshow-runtime/helpers/interopRequireWildcard");

exports.__esModule = true;
exports["default"] = void 0;

var _react = _interopRequireWildcard(require("react"));

var _reshowHooks = require("reshow-hooks");

var _popupStore = require("../../stores/popupStore.js");

var DisplayPopupEl = function DisplayPopupEl(props) {
  var _mounted = (0, _reshowHooks.useMounted)();

  var popup = (0, _react.useRef)();
  (0, _react.useEffect)(function () {
    return function () {
      if (popup.current) {
        (0, _popupStore.popupDispatch)({
          type: "dom/cleanOne",
          params: {
            popup: popup.current
          }
        });
      }
    };
  }, []);
  (0, _react.useEffect)(function () {
    popup.current = props.children;

    if (_mounted()) {
      (0, _popupStore.popupDispatch)({
        type: "dom/update",
        params: {
          popup: popup.current
        }
      });
    }
  }, [props.children]);
  return null;
};

var _default = DisplayPopupEl;
exports["default"] = _default;
module.exports = exports.default;