import React, { PureComponent } from "react";
import { expect } from "chai";
import { render, cleanIt, jsdom } from "reshow-unit";
import { pageStore } from "reshow";
import ClientRoute from "../ClientRoute.mjs";
import urlStore from "../../../stores/urlStore.mjs";
import { jsx as _jsx } from "react/jsx-runtime";
describe("Test ClientRoute", function () {
  beforeEach(function () {
    jsdom(null, {
      url: "http://localhost"
    });
    urlStore.reset();
    pageStore.reset();
  });
  afterEach(function () {
    cleanIt();
  });
  it("basic test", function () {
    var vDom = /*#__PURE__*/_jsx(ClientRoute, {
      themePath: "foo",
      themes: {
        foo: "div"
      }
    });

    var wrap = render(vDom);
    var actual = wrap.html();
    expect(actual).to.have.string("div");
  });
  it("test should reset default theme to store", function () {
    var vDom = /*#__PURE__*/_jsx(ClientRoute, {
      defaultThemePath: "foo",
      themes: {
        foo: "div"
      }
    });

    render(vDom);
    setTimeout(function () {
      expect(pageStore.getState().get("themePath")).to.equal("foo");
    });
  });
});