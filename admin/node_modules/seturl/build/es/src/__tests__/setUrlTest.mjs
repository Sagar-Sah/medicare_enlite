import { expect } from "chai";
import gjsdom from "jsdom-global";
import set from "../index.mjs";
describe("test set url", function () {
  var reset;
  afterEach(function () {
    reset();
  });
  it("basic test", function () {
    reset = gjsdom(null, {
      url: "http://xxx?abc=def"
    });
    expect(set("abc", "foo")).to.equal("http://xxx/?&abc=foo");
  });
  it("test set multi", function () {
    reset = gjsdom(null, {
      url: "http://xxx?abc=def"
    });
    expect(set("abc", ["foo", "bar"])).to.equal("http://xxx/?&abc=foo&abc=bar");
  });
});