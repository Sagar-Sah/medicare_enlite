"use strict";

var _interopRequireDefault = require("reshow-runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("reshow-runtime/helpers/interopRequireWildcard");

exports.__esModule = true;
exports["default"] = void 0;

var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("reshow-runtime/helpers/objectWithoutPropertiesLoose"));

var _react = _interopRequireWildcard(require("react"));

var _reactAtomicMolecule = require("react-atomic-molecule");

var _callFunc = _interopRequireDefault(require("call-func"));

var _DisplayPopupEl = _interopRequireDefault(require("../organisms/DisplayPopupEl.js"));

var _PopupOverlay = _interopRequireDefault(require("../molecules/PopupOverlay.js"));

var _jsxRuntime = require("react/jsx-runtime");

var _excluded = ["component", "children", "className", "getIsShow", "popup"];

var PopupMonitor = function PopupMonitor(_ref) {
  var component = _ref.component,
      children = _ref.children,
      className = _ref.className,
      getIsShow = _ref.getIsShow,
      popup = _ref.popup,
      otherProps = (0, _objectWithoutPropertiesLoose2["default"])(_ref, _excluded);

  var _useState = (0, _react.useState)(),
      show = _useState[0],
      setShow = _useState[1];

  var isShow = (0, _callFunc["default"])(getIsShow, [otherProps]);
  (0, _react.useEffect)(function () {
    if (isShow) {
      setShow(true);
    } else {
      setShow(false);
    }
  }, [isShow]);
  otherProps.className = (0, _reactAtomicMolecule.mixClass)(className, "popup-monitor");
  var popupEl = null;

  if (show) {
    popupEl = /*#__PURE__*/(0, _jsxRuntime.jsx)(_DisplayPopupEl["default"], {
      children: (0, _reactAtomicMolecule.build)(popup, {
        wrap: _PopupOverlay["default"],
        doCallFunction: true
      })()
    }, "popup-el");
  }

  var thisChildren = [children, popupEl];
  return (0, _reactAtomicMolecule.build)(component || _reactAtomicMolecule.SemanticUI)(otherProps, thisChildren);
};

var _default = PopupMonitor;
exports["default"] = _default;
module.exports = exports.default;