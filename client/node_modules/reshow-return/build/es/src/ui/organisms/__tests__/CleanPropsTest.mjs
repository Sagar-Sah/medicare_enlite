import _classCallCheck from "reshow-runtime/es/helpers/classCallCheck";
import _createClass from "reshow-runtime/es/helpers/createClass";
import _inherits from "reshow-runtime/es/helpers/inherits";
import _createSuper from "reshow-runtime/es/helpers/createSuper";
import { expect } from "chai";
import { PureComponent } from "react";
import Return from "../Return.mjs";
import { createReducer } from "reshow-flux-base";
import { render, waitFor } from "reshow-unit";
import { jsx as _jsx } from "react/jsx-runtime";
describe("Test Return clean props", function () {
  it("basic test", function () {
    var uFake;
    var reducer = createReducer(function (state, action) {
      return action;
    });
    var [store, dispatch] = reducer;

    var Dom = function Dom(props) {
      return /*#__PURE__*/_jsx(Return, {
        "data-foo": "bar",
        store: store,
        immutable: true,
        children: /*#__PURE__*/_jsx(SubDom, {
          ref: function ref(el) {
            return uFake = el;
          }
        })
      });
    };

    var SubDom = /*#__PURE__*/function (_PureComponent) {
      _inherits(SubDom, _PureComponent);

      var _super = _createSuper(SubDom);

      function SubDom() {
        _classCallCheck(this, SubDom);

        return _super.apply(this, arguments);
      }

      _createClass(SubDom, [{
        key: "render",
        value: function render() {
          return null;
        }
      }]);

      return SubDom;
    }(PureComponent);

    render( /*#__PURE__*/_jsx(Dom, {}));
    waitFor(function () {
      expect(uFake.props).to.equal({
        "data-foo": "bar"
      });
    });
  });
});