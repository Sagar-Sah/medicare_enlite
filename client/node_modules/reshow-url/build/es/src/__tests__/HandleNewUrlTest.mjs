var _div;

import React, { PureComponent } from "react";
import { expect } from "chai";
import { render, cleanIt, jsdom } from "reshow-unit";
jsdom(null, {
  url: "http://localhost"
});
import { AjaxPage, ajaxDispatch } from "organism-react-ajax";
import urlStore from "../stores/urlStore.mjs";
import { jsx as _jsx } from "react/jsx-runtime";
describe("Test Handle New Url", function () {
  after(function () {
    ajaxDispatch({
      onUrlChange: null
    });
    cleanIt();
  });
  it("test history back", function (done) {
    var myUpdate = function myUpdate() {
      expect(true).to.be.true;
      done();
    };

    ajaxDispatch({
      onUrlChange: myUpdate
    });
    render( /*#__PURE__*/_jsx(AjaxPage, {
      win: window,
      themes: {
        fake: _div || (_div = /*#__PURE__*/_jsx("div", {}))
      },
      themePath: "fake"
    }));
    window.history.pushState(null, "title", "http://localhost/bbb");
    window.history.pushState(null, "title", "http://localhost/ccc");
    setTimeout(function () {
      return window.history.back();
    });
  });
});