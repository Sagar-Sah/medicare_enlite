import { expect } from "chai";
import { jsdom } from "reshow-unit";
import { doc } from "win-doc";
import updateCanonicalUrl, { initCanonicalUrl, getDocCanonicalUrl } from "../updateCanonicalUrl.mjs";
describe("Test handle CanonicalUrl", function () {
  var reset;
  before(function () {
    reset = jsdom(null, {
      url: "http://localhost"
    });
  });
  after(function () {
    reset();
  });
  it("Get doc canonicalUrl", function () {
    document.body.innerHTML = '<link rel="canonical" href="http://localhost" />';
    var url = getDocCanonicalUrl();
    expect(url).to.equal("http://localhost/");
  });
  it("updateCanonicalUrl Simple test.", function () {
    updateCanonicalUrl();
  });
  it("initCanonicalUrl Simple test.", function () {
    initCanonicalUrl();
  });
});