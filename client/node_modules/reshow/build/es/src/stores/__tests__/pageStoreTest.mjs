import { expect } from "chai";
import { getSinon, cleanIt } from "reshow-unit";
import pageStore, { pageDispatch } from "../pageStore.mjs";
describe("Test pageStore", function () {
  afterEach(function () {
    pageStore.reset();
    cleanIt();
  });
  it("test merge empty", function (done) {
    var callback = getSinon().spy(function () {
      expect(callback.callCount).to.equal(1);
      done();
    });
    pageStore.addListener(callback);
    pageDispatch();
    pageDispatch({});
    pageDispatch({
      foo: "bar"
    });
  });
});