import _asyncToGenerator from "reshow-runtime/es/helpers/asyncToGenerator";

var _ReshowMessage, _div;

import { expect } from "chai";
import { act, render, getRoleHtml, cleanIt, waitFor } from "reshow-unit";
import { popupDispatch, PopupPool } from "organism-react-popup";
import ReshowMessage from "../ReshowMessage.mjs";
import { dispatch } from "../../../index.mjs";
import { jsx as _jsx } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
describe("Test ReshowMessage", function (done) {
  afterEach(function () {
    cleanIt();
  });
  it("simple test", function () {
    var wrap = render(_ReshowMessage || (_ReshowMessage = /*#__PURE__*/_jsx(ReshowMessage, {})));
    expect(wrap.html()).to.have.string("div");
  });
  it("test dialog", /*#__PURE__*/_asyncToGenerator(function* () {
    var _VDom;

    var VDom = function VDom(props) {
      return _div || (_div = /*#__PURE__*/_jsxs("div", {
        role: "udom",
        children: [/*#__PURE__*/_jsx(ReshowMessage, {}), /*#__PURE__*/_jsx(PopupPool, {})]
      }));
    };

    var wrap;
    yield act(function () {
      wrap = render(_VDom || (_VDom = /*#__PURE__*/_jsx(VDom, {})));
      dispatch("dialog/start", {
        dialog: "how are u"
      });
    }, 5);
    yield waitFor(function () {
      expect(getRoleHtml("udom")).to.have.string("dialog");
    });
    wrap.unmount();
  }));
});