import { expect } from "chai";
import { parseUrl } from "../index.mjs";
import getUrlAnaly from "../getUrlAnaly.mjs";
describe("test url analy", function () {
  it("basic test", function () {
    var test = "http://user:password@www.host.com:80/path?foo-query=bar#hash";
    var acture = getUrlAnaly(test);
    expect(acture).to.deep.equal(["http://user:password@www.host.com:80/path?foo-query=bar#hash", //0
    "http://user:password@www.host.com:80/path?foo-query=bar", //1
    "http://user:password@www.host.com:80/path", //2
    "http://user:password@www.host.com:80", //3
    "http:", //4
    "//", //5
    "user:password@www.host.com:80", //6
    "user:password", //7
    "user", //8
    "password", //9
    "www.host.com:80", //10
    "www.host.com", //11
    "80", //12
    "/path", //13
    "/", //14
    "path", //15
    "?foo-query=bar", //16
    "#hash" //17
    ]);
  });
  it("test get QueryString", function () {
    var test = "http://xxx/yyy*?abc=aaa";

    var _parseUrl = parseUrl(test),
        query = _parseUrl.query;

    expect(query).to.equal("?abc=aaa");
  });
  it("test get HostName", function () {
    var test = "http://user:password@www.host.com:80/yyy*?abc=aaa";

    var _parseUrl2 = parseUrl(test),
        host = _parseUrl2.host;

    expect(host).to.equal("www.host.com");
  });
  it("test get path", function () {
    var test = "http://xxx/yyy*?abc=aaa";

    var _parseUrl3 = parseUrl(test),
        path = _parseUrl3.path;

    expect(path).to.equal("/yyy*");
  });
});